# 分类信息API

1. 获取APP 的分类信息
2. 获取某个分类详情
3. 创建分类
4. 修改分类
5. 删除分类

---



## 1. 获取APP 的分类信息

| 属性   | 描述                                |
| ---- | --------------------------------- |
| 请求地址 | categories/app/{app_id}?type=tree |
| 请发方法 | GET                               |
| 是否登录 | 否                                 |
| 开发者  | 徐刚                                |

### 请求

| 参数名    | 字段类型   | 参数值                                  | 备注        |
| ------ | ------ | ------------------------------------ | --------- |
| app_id | int    | app id                               | -         |
| type   | string | tree: 格式化为树形组件数据; cascader: 格式化为级联组件 | 格式化组件所需数据 |

**请求示例**

```
http://rb.local.com/categories/app/4?type=tree
```

### 响应

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| -    | -    | -    | -    |

**响应示例**

树形组件

```
[
  {
    "id": 1,
    "label": "一级1",
    "children": [
      {
        "id": 3,
        "label": "二级1.1"
      }
    ]
  },
  {
    "id": 2,
    "label": "一级2"
  }
]
```

级联组件

```
[
  {
    "id": 1,
    "value": 1,
    "label": "一级1",
    "children": [
      {
        "id": 3,
        "value": 3,
        "label": "二级1.1"
      }
    ]
  },
  {
    "id": 2,
    "value": 2,
    "label": "一级2"
  }
]
```

**异常返回**

http status 不等于200

---

## 2. 获取某个分类详情

| 属性   | 描述              |
| ---- | --------------- |
| 请求地址 | categories/{id} |
| 请发方法 | GET             |
| 是否登录 | 否               |
| 开发者  | 徐刚              |

### 请求

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| id   | int  | 分类ID | -    |

**请求示例**

```
http://rb.local.com/categories/1
```

### 响应

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| -    | -    | -    | -    |

**响应示例**

```
{
  "id": 1,
  "app_id": 4,
  "name": "一级1",
  "pid": 0,
  "sort": 1,
  "remark": "一级分类",
  "opname": "admin",
  "created_at": "2017-08-13 13:08:36",
  "updated_at": "2017-08-13 13:08:36",
  "deleted_at": null
}
```

**异常返回**

http status 不等于200

---

## 3. 创建分类

| 属性   | 描述         |
| ---- | ---------- |
| 请求地址 | categories |
| 请发方法 | POST       |
| 是否登录 | 否          |
| 开发者  | 徐刚         |

### 请求

| 参数名    | 字段类型   | 参数值         | 备注   |
| ------ | ------ | ----------- | ---- |
| app_id | int    | 应用ID        | -    |
| name   | string | 分类名称        | -    |
| pid    | int    | 上级ID        | -    |
| sort   | int    | 排序值，数值越大越靠前 | -    |
| remark | string | 备注          | -    |


**请求示例**

```
http://rb.local.com/categories

app_id=4&name=第二个一级分类&pid=0&sort=3&remark=备注
```

### 响应

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| -    | -    | -    | -    |

**响应示例**

```
{
  "id": 4
}
```

**异常返回**

http status 不等于200

---

## 4. 修改分类

| 属性   | 描述               |
| ---- | ---------------- |
| 请求地址 | /categories/{id} |
| 请发方法 | PUT              |
| 是否登录 | 否                |
| 开发者  | 徐刚               |

### 请求

| 参数名    | 字段类型   | 参数值         | 备注   |
| ------ | ------ | ----------- | ---- |
| name   | string | 分类名称        | -    |
| pid    | int    | 上级ID        | -    |
| sort   | int    | 排序值，数值越大越靠前 | -    |
| remark | string | 备注          | -    |


**请求示例**

```
http://rb.local.com/categories/4

name=第二个一级分类&pid=0&sort=3&remark=备注
```

### 响应

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| -    | -    | -    | -    |

**响应示例**

```
{
  "id": 4,
  "app_id": 4,
  "name": "第二个一级分类",
  "pid": "0",
  "sort": "3",
  "remark": "备注",
  "opname": "admin",
  "created_at": "2017-08-19 21:36:55",
  "updated_at": "2017-08-19 21:40:45",
  "deleted_at": null
}
```

**异常返回**

http status 不等于200

---

## 5. 删除分类

| 属性   | 描述               |
| ---- | ---------------- |
| 请求地址 | /categories/{id} |
| 请发方法 | DELETE           |
| 是否登录 | 否                |
| 开发者  | 徐刚               |

### 请求

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| id   | int  | 分类ID | -    |

**请求示例**

```
http://rb.local.com/categories/4
```

### 响应

| 参数名  | 字段类型 | 参数值  | 备注   |
| ---- | ---- | ---- | ---- |
| -    | -    | -    | -    |

**响应示例**

```
{
  "id": 4
}
```

**异常返回**

http status 不等于200

